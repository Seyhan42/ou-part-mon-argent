<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard ‚Äì O√π part mon argent ?</title>
  <link rel="stylesheet" href="css/style.css?v=2">
  
  <!-- PROTECTION : Redirection si non connect√© -->
  <script>
    (function() {
      try {
        var s = JSON.parse(localStorage.getItem("auth_session_v1"));
        if (!(s && s.email)) {
          document.documentElement.style.display = 'none';
          window.location.replace('login.html');
        }
      } catch(e) {
        document.documentElement.style.display = 'none';
        window.location.replace('login.html');
      }
    })();
  </script>

  <style>
    /* ===== LAYOUT DASHBOARD ===== */
    .dashboard-layout {
      display: flex;
      min-height: calc(100vh - 70px);
    }
    
    /* ===== SIDEBAR ===== */
    .sidebar {
      width: 260px;
      background: var(--bg-card);
      border-right: 1px solid var(--border-light);
      padding: var(--space-lg);
      flex-shrink: 0;
    }
    
    .sidebar-section {
      margin-bottom: var(--space-xl);
    }
    
    .sidebar-title {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-muted);
      margin-bottom: var(--space-sm);
      padding: 0 var(--space-sm);
    }
    
    .sidebar-menu {
      list-style: none;
    }
    
    .sidebar-item {
      margin-bottom: 2px;
    }
    
    .sidebar-link {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      padding: 10px var(--space-sm);
      border-radius: var(--radius-md);
      color: var(--text-secondary);
      font-size: var(--text-sm);
      font-weight: 500;
      text-decoration: none;
      transition: all var(--transition-base);
      cursor: pointer;
    }
    
    .sidebar-link:hover {
      background: var(--bg-subtle);
      color: var(--text-primary);
    }
    
    .sidebar-link.active {
      background: var(--accent-subtle);
      color: var(--accent);
      font-weight: 600;
    }
    
    .sidebar-link.locked {
      color: var(--text-muted);
      cursor: not-allowed;
    }
    
    .sidebar-link.locked:hover {
      background: transparent;
    }
    
    .sidebar-icon {
      font-size: 18px;
      width: 24px;
      text-align: center;
    }
    
    .sidebar-badge {
      margin-left: auto;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: var(--radius-full);
      background: var(--bg-subtle);
      color: var(--text-muted);
    }
    
    .sidebar-badge.premium {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
    }
    
    /* Plan actuel dans sidebar */
    .plan-card {
      background: var(--accent-subtle);
      border: 1px solid var(--accent-border);
      border-radius: var(--radius-lg);
      padding: var(--space-md);
      text-align: center;
    }
    
    .plan-card-label {
      font-size: 11px;
      color: var(--text-muted);
      text-transform: uppercase;
    }
    
    .plan-card-name {
      font-size: var(--text-lg);
      font-weight: 700;
      color: var(--accent);
      margin: 4px 0;
    }
    
    .plan-card-btn {
      margin-top: var(--space-sm);
    }
    
    /* ===== MAIN CONTENT ===== */
    .dashboard-main {
      flex: 1;
      padding: var(--space-xl);
      max-width: 1000px;
      overflow-y: auto;
    }
    
    .page-header {
      margin-bottom: var(--space-xl);
    }
    
    .page-title {
      font-size: var(--text-2xl);
      margin-bottom: var(--space-xs);
    }
    
    .page-subtitle {
      color: var(--text-muted);
      font-size: var(--text-sm);
    }
    
    /* ===== SECTIONS ===== */
    .section {
      display: none;
    }
    
    .section.active {
      display: block;
    }
    
    /* ===== GRIDS ===== */
    .grid-4 {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-md);
    }
    
    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-lg);
      margin-top: var(--space-lg);
    }
    
    /* ===== CARDS STATS ===== */
    .stat-card {
      background: var(--bg-card);
      border: 1px solid var(--border-light);
      border-radius: var(--radius-lg);
      padding: var(--space-lg);
    }
    
    .stat-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-sm);
    }
    
    .stat-label {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.03em;
      color: var(--text-muted);
    }
    
    .stat-icon {
      width: 32px;
      height: 32px;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }
    
    .stat-icon.green { background: rgba(13,159,111,0.1); }
    .stat-icon.red { background: rgba(220,38,38,0.1); }
    .stat-icon.orange { background: rgba(245,158,11,0.1); }
    .stat-icon.blue { background: rgba(59,130,246,0.1); }
    
    .stat-value {
      font-size: var(--text-2xl);
      font-weight: 700;
      color: var(--text-primary);
    }
    
    /* ===== BADGES ===== */
    .badge {
      font-size: 11px;
      font-weight: 600;
      padding: 4px 10px;
      border-radius: var(--radius-full);
    }
    
    .badge.success { background: rgba(13,159,111,0.1); color: #0d9f6f; }
    .badge.warning { background: rgba(245,158,11,0.1); color: #d97706; }
    .badge.danger { background: rgba(220,38,38,0.1); color: #dc2626; }
    .badge.locked { background: var(--bg-subtle); color: var(--text-muted); }
    
    /* ===== LOCKED OVERLAY ===== */
    .locked-overlay {
      text-align: center;
      padding: var(--space-2xl);
      background: var(--bg-subtle);
      border-radius: var(--radius-lg);
      border: 2px dashed var(--border-medium);
    }
    
    .locked-icon {
      font-size: 48px;
      margin-bottom: var(--space-md);
    }
    
    .locked-title {
      font-size: var(--text-lg);
      font-weight: 600;
      margin-bottom: var(--space-sm);
    }
    
    .locked-desc {
      color: var(--text-muted);
      font-size: var(--text-sm);
      margin-bottom: var(--space-lg);
    }
    
    /* ===== MODAL ===== */
    .modal {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .modal.open {
      display: flex;
    }
    
    .modal-content {
      background: white;
      border-radius: var(--radius-xl);
      max-width: 500px;
      width: 90%;
      max-height: 90vh;
      overflow: auto;
      padding: var(--space-xl);
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-lg);
    }
    
    .modal-close {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text-muted);
    }
    
    /* ===== RESPONSIVE ===== */
    @media (max-width: 1024px) {
      .grid-4 { grid-template-columns: repeat(2, 1fr); }
    }
    
    @media (max-width: 768px) {
      .dashboard-layout { 
        flex-direction: column; 
      }
      
      /* ===== SIDEBAR MOBILE - Menu horizontal scrollable ===== */
      .sidebar { 
        width: 100%; 
        border-right: none; 
        border-bottom: 1px solid var(--border-light);
        padding: var(--space-sm) var(--space-md);
        position: sticky;
        top: 0;
        background: var(--bg-card);
        z-index: 100;
      }
      
      .plan-card {
        display: none; /* Cacher le plan card sur mobile */
      }
      
      .sidebar-section {
        margin-bottom: 0;
      }
      
      .sidebar-section:first-of-type {
        display: none; /* Cacher la premi√®re section (plan) */
      }
      
      .sidebar-title { 
        display: none; 
      }
      
      .sidebar-menu { 
        display: flex; 
        flex-wrap: nowrap;
        gap: var(--space-xs); 
        overflow-x: auto;
        padding-bottom: var(--space-xs);
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
      }
      
      .sidebar-menu::-webkit-scrollbar {
        display: none;
      }
      
      .sidebar-item { 
        margin: 0;
        flex-shrink: 0;
      }
      
      .sidebar-link {
        padding: 8px 12px;
        font-size: 12px;
        white-space: nowrap;
        border-radius: var(--radius-full);
        background: var(--bg-subtle);
      }
      
      .sidebar-link.active {
        background: var(--accent);
        color: white;
      }
      
      .sidebar-icon {
        font-size: 14px;
        width: auto;
      }
      
      .sidebar-badge {
        font-size: 8px;
        padding: 2px 4px;
      }
      
      /* ===== MAIN CONTENT MOBILE ===== */
      .dashboard-main { 
        padding: var(--space-md); 
      }
      
      .page-header {
        margin-bottom: var(--space-md);
      }
      
      .page-title {
        font-size: var(--text-xl);
      }
      
      .page-subtitle {
        font-size: var(--text-xs);
      }
      
      /* ===== GRIDS MOBILE ===== */
      .grid-4 { 
        grid-template-columns: repeat(2, 1fr); 
        gap: var(--space-sm);
      }
      
      .grid-2 { 
        grid-template-columns: 1fr; 
        gap: var(--space-md);
        margin-top: var(--space-md);
      }
      
      /* ===== STAT CARDS MOBILE ===== */
      .stat-card {
        padding: var(--space-md);
      }
      
      .stat-label {
        font-size: 9px;
      }
      
      .stat-value {
        font-size: var(--text-lg);
      }
      
      .stat-icon {
        width: 28px;
        height: 28px;
        font-size: 14px;
      }
      
      /* ===== CARDS MOBILE ===== */
      .card {
        padding: var(--space-md);
      }
      
      .card h3 {
        font-size: var(--text-base);
      }
      
      /* ===== SCORE CIRCLE MOBILE ===== */
      #score-circle {
        /* Rendre le cercle plus petit sur mobile */
      }
      
      /* ===== BUTTONS MOBILE ===== */
      .cta-row {
        flex-direction: column;
        gap: var(--space-sm);
      }
      
      .cta-row .btn {
        width: 100%;
        text-align: center;
      }
      
      /* ===== LOCKED OVERLAY MOBILE ===== */
      .locked-overlay {
        padding: var(--space-xl) var(--space-md);
      }
      
      .locked-icon {
        font-size: 36px;
      }
      
      .locked-title {
        font-size: var(--text-base);
      }
      
      /* ===== TABLE MOBILE ===== */
      #historique-table td,
      #historique-table th {
        padding: var(--space-xs);
        font-size: 11px;
      }
      
      /* ===== MODAL MOBILE ===== */
      .modal-content {
        margin: var(--space-md);
        padding: var(--space-lg);
        max-height: calc(100vh - 40px);
      }
    }
    
    /* ===== TR√àS PETIT √âCRAN (< 400px) ===== */
    @media (max-width: 400px) {
      .grid-4 { 
        grid-template-columns: 1fr 1fr;
        gap: var(--space-xs);
      }
      
      .stat-card {
        padding: var(--space-sm);
      }
      
      .stat-value {
        font-size: var(--text-base);
      }
      
      .stat-label {
        font-size: 8px;
      }
      
      .stat-icon {
        width: 24px;
        height: 24px;
        font-size: 12px;
      }
      
      .sidebar-link {
        padding: 6px 10px;
        font-size: 11px;
      }
      
      .sidebar-icon {
        display: none; /* Cacher les ic√¥nes sur tr√®s petit √©cran */
      }
    }
  </style>
</head>
<body>

<!-- ===== HEADER ===== -->
<header class="header">
  <div class="brand">
    <div class="logo">‚Ç¨</div>
    <div>
      <div class="brand-title">O√π part mon argent ?</div>
      <div class="brand-subtitle">Dashboard</div>
    </div>
  </div>

  <nav class="nav">
    <a class="nav-link" href="index.html">Accueil</a>
    <a class="nav-link" href="test.html">Test gratuit</a>
    <a class="nav-link" href="tarifs.html">Tarifs</a>
    <a class="nav-link" href="login.html" data-auth="out">Connexion</a>
    <a class="nav-link active" href="dashboard.html" data-auth="in">Dashboard</a>
    <button class="btn-ghost" type="button" data-auth="in" data-logout>D√©connexion</button>
  </nav>
</header>

<!-- ===== DASHBOARD LAYOUT ===== -->
<div class="dashboard-layout">
  
  <!-- ===== SIDEBAR ===== -->
  <aside class="sidebar">
    
    <!-- Plan actuel -->
    <div class="plan-card">
      <div class="plan-card-label">Votre plan</div>
      <div class="plan-card-name" id="sidebar-plan">Gratuit</div>
      <a href="tarifs.html" class="btn btn-primary plan-card-btn" style="font-size: 12px; padding: 8px 16px;">Changer d'offre</a>
    </div>
    
    <!-- Menu principal -->
    <div class="sidebar-section" style="margin-top: var(--space-xl);">
      <div class="sidebar-title">Menu</div>
      <ul class="sidebar-menu">
        <li class="sidebar-item">
          <a class="sidebar-link active" data-section="resume" onclick="showSection('resume')">
            <span class="sidebar-icon">üìä</span>
            R√©sum√©
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" data-section="historique" onclick="showSection('historique')">
            <span class="sidebar-icon">üìã</span>
            Historique
          </a>
        </li>
      </ul>
    </div>
    
    <!-- Fonctionnalit√©s Premium -->
    <div class="sidebar-section">
      <div class="sidebar-title">Premium</div>
      <ul class="sidebar-menu">
        <li class="sidebar-item">
          <a class="sidebar-link" id="menu-epargne" data-section="epargne" onclick="showSection('epargne')">
            <span class="sidebar-icon">üíé</span>
            Objectif √©pargne
            <span class="sidebar-badge premium" id="badge-epargne">PRO</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" id="menu-fuites" data-section="fuites" onclick="showSection('fuites')">
            <span class="sidebar-icon">üí∏</span>
            Fuites & Abonnements
            <span class="sidebar-badge premium" id="badge-fuites">PRO</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" id="menu-rappels" data-section="rappels" onclick="showSection('rappels')">
            <span class="sidebar-icon">üìß</span>
            Rappels email
            <span class="sidebar-badge premium" id="badge-rappels">PRO</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" id="menu-decisions" data-section="decisions" onclick="showSection('decisions')">
            <span class="sidebar-icon">‚öñÔ∏è</span>
            Comparateur d√©cisions
            <span class="sidebar-badge premium" id="badge-decisions">COMPLET</span>
          </a>
        </li>
        <li class="sidebar-item">
          <a class="sidebar-link" id="menu-imprevu" data-section="imprevu" onclick="showSection('imprevu')">
            <span class="sidebar-icon">üö®</span>
            Simulateur impr√©vu
            <span class="sidebar-badge premium" id="badge-imprevu">COMPLET</span>
          </a>
        </li>
      </ul>
    </div>
    
  </aside>
  
  <!-- ===== MAIN CONTENT ===== -->
  <main class="dashboard-main">
    
    <!-- ===== SECTION: R√âSUM√â ===== -->
    <section class="section active" id="section-resume">
      <div class="page-header">
        <h1 class="page-title">üìä R√©sum√© financier</h1>
        <p class="page-subtitle">Vue d'ensemble de votre situation financi√®re</p>
      </div>
      
      <!-- Message si pas de test -->
      <div class="card callout" id="no-test-message" style="display: none; text-align: center; margin-bottom: var(--space-xl);">
        <h2>üëã Bienvenue !</h2>
        <p>Faites votre premier test pour voir votre r√©sum√© financier.</p>
        <a href="test.html" class="btn btn-primary" style="margin-top: var(--space-md);">Faire le test gratuit</a>
      </div>
      
      <!-- 4 cartes stats -->
      <div class="grid-4" id="stats-grid">
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">Revenus</span>
            <div class="stat-icon green">üíµ</div>
          </div>
          <div class="stat-value" id="stat-revenus">‚Äî</div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">D√©penses essentielles</span>
            <div class="stat-icon red">üè†</div>
          </div>
          <div class="stat-value" id="stat-dep-ess">‚Äî</div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">D√©penses non essentielles</span>
            <div class="stat-icon orange">üõçÔ∏è</div>
          </div>
          <div class="stat-value" id="stat-dep-non-ess">‚Äî</div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <span class="stat-label">Reste √† vivre</span>
            <div class="stat-icon green">‚ú®</div>
          </div>
          <div class="stat-value" id="stat-reste">‚Äî</div>
        </div>
      </div>
      
      <!-- Dernier test -->
      <div class="grid-2">
        <div class="card">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-md);">
            <h3>üéØ Dernier test</h3>
            <span class="badge" id="test-badge">‚Äî</span>
          </div>
          
          <div style="display: flex; align-items: center; gap: var(--space-lg); margin-bottom: var(--space-lg);">
            <div style="position: relative; width: 80px; height: 80px; flex-shrink: 0;">
              <svg width="80" height="80" viewBox="0 0 80 80">
                <circle cx="40" cy="40" r="35" fill="none" stroke="var(--border-light)" stroke-width="6"/>
                <circle id="score-circle" cx="40" cy="40" r="35" fill="none" stroke="var(--accent)" stroke-width="6" 
                  stroke-dasharray="220" stroke-dashoffset="220" stroke-linecap="round" 
                  transform="rotate(-90 40 40)" style="transition: stroke-dashoffset 1s ease;"/>
              </svg>
              <div style="position: absolute; inset: 0; display: flex; align-items: center; justify-content: center;">
                <span style="font-size: var(--text-xl); font-weight: 700;" id="score-value">‚Äî</span>
              </div>
            </div>
            <div>
              <h4 id="test-title" style="margin-bottom: 4px;">‚Äî</h4>
              <p style="font-size: var(--text-sm); color: var(--text-muted);" id="test-conseil">‚Äî</p>
              <span style="font-size: var(--text-xs); color: var(--text-muted);" id="test-date">‚Äî</span>
            </div>
          </div>
          
          <div class="cta-row" style="justify-content: flex-start;">
            <a href="test.html" class="btn btn-primary">üîÑ Refaire un test</a>
          </div>
        </div>
        
        <!-- Acc√®s rapide -->
        <div class="card">
          <h3 style="margin-bottom: var(--space-lg);">‚ö° Acc√®s rapide</h3>
          <div style="display: flex; flex-direction: column; gap: var(--space-sm);">
            <a onclick="showSection('historique')" class="sidebar-link" style="border: 1px solid var(--border-light); border-radius: var(--radius-md);">
              <span class="sidebar-icon">üìã</span>
              Voir l'historique complet
            </a>
            <a onclick="showSection('epargne')" class="sidebar-link" style="border: 1px solid var(--border-light); border-radius: var(--radius-md);">
              <span class="sidebar-icon">üíé</span>
              D√©finir un objectif d'√©pargne
            </a>
            <a onclick="showSection('fuites')" class="sidebar-link" style="border: 1px solid var(--border-light); border-radius: var(--radius-md);">
              <span class="sidebar-icon">üí∏</span>
              Identifier mes fuites
            </a>
          </div>
        </div>
      </div>
    </section>
    
    <!-- ===== SECTION: HISTORIQUE ===== -->
    <section class="section" id="section-historique">
      <div class="page-header">
        <h1 class="page-title">üìã Historique des tests</h1>
        <p class="page-subtitle">Suivez l'√©volution de votre budget dans le temps</p>
      </div>
      
      <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
          <span class="badge" id="historique-count">0 tests</span>
          <a href="test.html" class="btn btn-primary">+ Nouveau test</a>
        </div>
        
        <div style="overflow-x: auto;">
          <table style="width: 100%; border-collapse: collapse; font-size: var(--text-sm);">
            <thead>
              <tr style="border-bottom: 2px solid var(--border-light);">
                <th style="text-align: left; padding: var(--space-sm); color: var(--text-muted); font-weight: 600;">Date</th>
                <th style="text-align: right; padding: var(--space-sm); color: var(--text-muted); font-weight: 600;">Revenus</th>
                <th style="text-align: right; padding: var(--space-sm); color: var(--text-muted); font-weight: 600;">D√©penses</th>
                <th style="text-align: right; padding: var(--space-sm); color: var(--text-muted); font-weight: 600;">Reste √† vivre</th>
                <th style="text-align: center; padding: var(--space-sm); color: var(--text-muted); font-weight: 600;">Score</th>
                <th style="padding: var(--space-sm);"></th>
              </tr>
            </thead>
            <tbody id="historique-table">
              <tr><td colspan="6" style="text-align: center; padding: var(--space-xl); color: var(--text-muted);">Aucun test enregistr√©</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
    
    <!-- ===== SECTION: √âPARGNE ===== -->
    <section class="section" id="section-epargne">
      <div class="page-header">
        <h1 class="page-title">üíé Objectif d'√©pargne</h1>
        <p class="page-subtitle">D√©finissez et suivez vos objectifs d'√©pargne</p>
      </div>
      
      <!-- Contenu si premium -->
      <div id="epargne-content">
        <div class="card">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
            <h3>Mon objectif</h3>
            <span class="badge warning" id="epargne-badge">En cours</span>
          </div>
          
          <div style="text-align: center; margin-bottom: var(--space-lg);">
            <div style="font-size: 12px; color: var(--text-muted); text-transform: uppercase;">Objectif total</div>
            <div style="font-size: var(--text-3xl); font-weight: 800;" id="objectif-montant">0 ‚Ç¨</div>
          </div>
          
          <div style="margin-bottom: var(--space-lg);">
            <div style="display: flex; justify-content: space-between; font-size: var(--text-sm); margin-bottom: 6px;">
              <span>Progression</span>
              <span id="progress-percent">0%</span>
            </div>
            <div style="height: 12px; background: var(--bg-subtle); border-radius: var(--radius-full); overflow: hidden;">
              <div id="progress-fill" style="height: 100%; background: linear-gradient(90deg, var(--accent), #10b981); width: 0%; transition: width 1s ease; border-radius: var(--radius-full);"></div>
            </div>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-md); text-align: center; margin-bottom: var(--space-lg);">
            <div style="background: var(--bg-subtle); padding: var(--space-md); border-radius: var(--radius-md);">
              <div style="font-size: var(--text-xl); font-weight: 700; color: var(--accent);" id="epargne-actuelle">0 ‚Ç¨</div>
              <div style="font-size: 11px; color: var(--text-muted);">√âpargn√©</div>
            </div>
            <div style="background: var(--bg-subtle); padding: var(--space-md); border-radius: var(--radius-md);">
              <div style="font-size: var(--text-xl); font-weight: 700; color: #d97706;" id="epargne-restante">0 ‚Ç¨</div>
              <div style="font-size: 11px; color: var(--text-muted);">Restant</div>
            </div>
            <div style="background: var(--bg-subtle); padding: var(--space-md); border-radius: var(--radius-md);">
              <div style="font-size: var(--text-xl); font-weight: 700;" id="epargne-mensuelle">0 ‚Ç¨</div>
              <div style="font-size: 11px; color: var(--text-muted);">Conseill√©/mois</div>
            </div>
          </div>
          
          <div class="cta-row" style="justify-content: flex-start;">
            <button class="btn btn-primary" onclick="openModal('modal-versement')">‚ûï Ajouter versement</button>
            <button class="btn btn-secondary" onclick="openModal('modal-objectif')">‚öôÔ∏è Modifier objectif</button>
          </div>
        </div>
      </div>
      
      <!-- Bloqu√© si pas premium -->
      <div id="epargne-locked" class="locked-overlay" style="display: none;">
        <div class="locked-icon">üîí</div>
        <div class="locked-title">Fonctionnalit√© Essentiel</div>
        <div class="locked-desc">D√©finissez vos objectifs d'√©pargne et suivez votre progression avec le plan Essentiel ou Complet.</div>
        <a href="tarifs.html" class="btn btn-primary">Voir les offres</a>
      </div>
    </section>
    
    <!-- ===== SECTION: FUITES ===== -->
    <section class="section" id="section-fuites">
      <div class="page-header">
        <h1 class="page-title">üí∏ Fuites & Abonnements</h1>
        <p class="page-subtitle">Identifiez vos d√©penses invisibles qui grignotent votre budget</p>
      </div>
      
      <div id="fuites-content">
        <div class="grid-2">
          <!-- Abonnements -->
          <div class="card">
            <h3 style="margin-bottom: var(--space-md);">üì∫ Mes abonnements</h3>
            <ul class="list" id="subscriptions-list">
              <li>Aucun abonnement enregistr√©</li>
            </ul>
            <button class="btn btn-secondary" style="margin-top: var(--space-md);" onclick="openModal('modal-abonnement')">+ Ajouter un abonnement</button>
          </div>
          
          <!-- Jeux d'argent -->
          <div class="card">
            <h3 style="margin-bottom: var(--space-md);">üé∞ Jeux d'argent / Casino</h3>
            <div style="background: var(--bg-subtle); padding: var(--space-lg); border-radius: var(--radius-md); text-align: center;">
              <div style="font-size: var(--text-3xl); font-weight: 700;" id="gambling-amount">0 ‚Ç¨</div>
              <div style="font-size: var(--text-sm); color: var(--text-muted);">par mois</div>
            </div>
            <button class="btn btn-secondary" style="margin-top: var(--space-md); width: 100%;" onclick="openModal('modal-jeux')">Modifier le montant</button>
          </div>
        </div>
        
        <!-- Total -->
        <div class="card" style="margin-top: var(--space-lg); background: rgba(220,38,38,0.05); border-color: rgba(220,38,38,0.2);">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <div style="font-weight: 600; color: #dc2626;">üí∞ Total des fuites mensuelles</div>
              <div style="font-size: var(--text-sm); color: var(--text-muted);">Argent qui "dispara√Æt" chaque mois</div>
            </div>
            <div style="font-size: var(--text-2xl); font-weight: 700; color: #dc2626;" id="total-fuites">0 ‚Ç¨</div>
          </div>
        </div>
      </div>
      
      <div id="fuites-locked" class="locked-overlay" style="display: none;">
        <div class="locked-icon">üîí</div>
        <div class="locked-title">Fonctionnalit√© Essentiel</div>
        <div class="locked-desc">Identifiez et suivez vos fuites budg√©taires avec le plan Essentiel ou Complet.</div>
        <a href="tarifs.html" class="btn btn-primary">Voir les offres</a>
      </div>
    </section>
    
    <!-- ===== SECTION: RAPPELS ===== -->
    <section class="section" id="section-rappels">
      <div class="page-header">
        <h1 class="page-title">üìß Rappels email</h1>
        <p class="page-subtitle">Recevez des rappels pour suivre votre budget</p>
      </div>
      
      <div id="rappels-content">
        <div class="card">
          <div style="display: flex; align-items: center; gap: var(--space-lg); flex-wrap: wrap;">
            <label style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer;">
              <input type="checkbox" id="rappel-toggle" style="width: 20px; height: 20px;">
              <span style="font-weight: 500;">Activer le rappel hebdomadaire</span>
            </label>
          </div>
          
          <div class="field" style="margin-top: var(--space-lg);">
            <label for="rappel-email">Adresse email</label>
            <input type="email" id="rappel-email" placeholder="votre@email.com">
          </div>
          
          <button class="btn btn-primary" style="margin-top: var(--space-lg);" onclick="saveRappel()">Enregistrer</button>
          
          <div class="hint" style="margin-top: var(--space-lg);">
            ‚ÑπÔ∏è Cette fonctionnalit√© sera bient√¥t disponible. Enregistrez votre email pour √™tre notifi√© !
          </div>
        </div>
      </div>
      
      <div id="rappels-locked" class="locked-overlay" style="display: none;">
        <div class="locked-icon">üîí</div>
        <div class="locked-title">Fonctionnalit√© Essentiel</div>
        <div class="locked-desc">Recevez des rappels hebdomadaires avec le plan Essentiel ou Complet.</div>
        <a href="tarifs.html" class="btn btn-primary">Voir les offres</a>
      </div>
    </section>
    
    <!-- ===== SECTION: D√âCISIONS ===== -->
    <section class="section" id="section-decisions">
      <div class="page-header">
        <h1 class="page-title">‚öñÔ∏è Comparateur de d√©cisions</h1>
        <p class="page-subtitle">Comparez deux choix pour prendre la meilleure d√©cision financi√®re</p>
      </div>
      
      <div id="decisions-content" style="display: none;">
        <!-- Contenu √† venir -->
        <div class="card">
          <p>Fonctionnalit√© en cours de d√©veloppement...</p>
        </div>
      </div>
      
      <div id="decisions-locked" class="locked-overlay">
        <div class="locked-icon">üîí</div>
        <div class="locked-title">Fonctionnalit√© Complet</div>
        <div class="locked-desc">Comparez vos d√©cisions financi√®res avec le plan Complet √† 8,99‚Ç¨/mois.</div>
        <a href="tarifs.html" class="btn btn-primary">Voir les offres</a>
      </div>
    </section>
    
    <!-- ===== SECTION: IMPR√âVU ===== -->
    <section class="section" id="section-imprevu">
      <div class="page-header">
        <h1 class="page-title">üö® Simulateur d'impr√©vu</h1>
        <p class="page-subtitle">Testez si votre budget r√©siste √† un impr√©vu</p>
      </div>
      
      <div id="imprevu-content" style="display: none;">
        <!-- Contenu √† venir -->
        <div class="card">
          <p>Fonctionnalit√© en cours de d√©veloppement...</p>
        </div>
      </div>
      
      <div id="imprevu-locked" class="locked-overlay">
        <div class="locked-icon">üîí</div>
        <div class="locked-title">Fonctionnalit√© Complet</div>
        <div class="locked-desc">Simulez des impr√©vus illimit√©s avec le plan Complet √† 8,99‚Ç¨/mois.</div>
        <a href="tarifs.html" class="btn btn-primary">Voir les offres</a>
      </div>
    </section>
    
  </main>
</div>

<!-- ===== MODALS ===== -->

<!-- Modal Versement -->
<div class="modal" id="modal-versement">
  <div class="modal-content">
    <div class="modal-header">
      <h2>‚ûï Ajouter un versement</h2>
      <button class="modal-close" onclick="closeModal('modal-versement')">&times;</button>
    </div>
    <div class="field">
      <label>Montant (‚Ç¨)</label>
      <input type="number" id="versement-montant" placeholder="100" min="0">
    </div>
    <div class="cta-row" style="margin-top: var(--space-lg);">
      <button class="btn btn-primary" onclick="saveVersement()">Ajouter</button>
      <button class="btn btn-secondary" onclick="closeModal('modal-versement')">Annuler</button>
    </div>
  </div>
</div>

<!-- Modal Objectif -->
<div class="modal" id="modal-objectif">
  <div class="modal-content">
    <div class="modal-header">
      <h2>‚öôÔ∏è Modifier l'objectif</h2>
      <button class="modal-close" onclick="closeModal('modal-objectif')">&times;</button>
    </div>
    <div class="field" style="margin-bottom: var(--space-md);">
      <label>Objectif total (‚Ç¨)</label>
      <input type="number" id="objectif-input" placeholder="15000" min="0">
    </div>
    <div class="field">
      <label>√âpargne actuelle (‚Ç¨)</label>
      <input type="number" id="epargne-input" placeholder="3000" min="0">
    </div>
    <div class="cta-row" style="margin-top: var(--space-lg);">
      <button class="btn btn-primary" onclick="saveObjectif()">Enregistrer</button>
      <button class="btn btn-secondary" onclick="closeModal('modal-objectif')">Annuler</button>
    </div>
  </div>
</div>

<!-- Modal Abonnement -->
<div class="modal" id="modal-abonnement">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üì∫ Ajouter un abonnement</h2>
      <button class="modal-close" onclick="closeModal('modal-abonnement')">&times;</button>
    </div>
    <div class="field" style="margin-bottom: var(--space-md);">
      <label>Nom de l'abonnement</label>
      <input type="text" id="abo-nom" placeholder="Netflix, Spotify, Salle de sport...">
    </div>
    <div class="field">
      <label>Montant mensuel (‚Ç¨)</label>
      <input type="number" id="abo-montant" placeholder="15.99" step="0.01" min="0">
    </div>
    <div class="cta-row" style="margin-top: var(--space-lg);">
      <button class="btn btn-primary" onclick="saveAbonnement()">Ajouter</button>
      <button class="btn btn-secondary" onclick="closeModal('modal-abonnement')">Annuler</button>
    </div>
  </div>
</div>

<!-- Modal Jeux -->
<div class="modal" id="modal-jeux">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üé∞ Jeux d'argent</h2>
      <button class="modal-close" onclick="closeModal('modal-jeux')">&times;</button>
    </div>
    <div class="field">
      <label>Montant mensuel moyen (‚Ç¨)</label>
      <input type="number" id="jeux-montant" placeholder="50" min="0">
    </div>
    <div class="cta-row" style="margin-top: var(--space-lg);">
      <button class="btn btn-primary" onclick="saveJeux()">Enregistrer</button>
      <button class="btn btn-secondary" onclick="closeModal('modal-jeux')">Annuler</button>
    </div>
  </div>
</div>

<!-- ===== SCRIPTS ===== -->
<script src="assets/nav-auth.js"></script>
<script>
// ============================================
// CONFIGURATION DES PLANS
// ============================================
const PLANS = {
  free: { 
    name: 'Gratuit', 
    features: ['resume', 'historique'],
    color: '#6b7280'
  },
  essential: { 
    name: 'Essentiel', 
    features: ['resume', 'historique', 'epargne', 'fuites', 'rappels'],
    color: '#0d9f6f'
  },
  complete: { 
    name: 'Complet', 
    features: ['resume', 'historique', 'epargne', 'fuites', 'rappels', 'decisions', 'imprevu'],
    color: '#3b82f6'
  }
};

// ============================================
// UTILITAIRES
// ============================================
function formatMoney(amount) {
  return new Intl.NumberFormat('fr-FR', { 
    style: 'currency', 
    currency: 'EUR', 
    minimumFractionDigits: 0, 
    maximumFractionDigits: 0 
  }).format(amount || 0);
}

function formatDate(dateStr) {
  if (!dateStr) return '‚Äî';
  return new Date(dateStr).toLocaleDateString('fr-FR', { 
    day: 'numeric', 
    month: 'long', 
    year: 'numeric' 
  });
}

function getData(key, defaultValue) {
  try {
    const val = localStorage.getItem(key);
    if (!val) return defaultValue;
    return JSON.parse(val);
  } catch (e) {
    console.error('Error reading', key, e);
    return defaultValue;
  }
}

function setData(key, value) {
  localStorage.setItem(key, JSON.stringify(value));
}

function getScoreInfo(score) {
  if (score >= 70) return { label: 'Bonne sant√©', class: 'success', title: 'Bonne gestion', desc: 'Continuez ainsi !' };
  if (score >= 40) return { label: '√Ä surveiller', class: 'warning', title: 'Peut mieux faire', desc: 'Quelques ajustements possibles.' };
  return { label: 'Attention', class: 'danger', title: 'Budget tendu', desc: 'R√©duisez vos d√©penses.' };
}

function calculateScore(data) {
  if (!data || !data.revenus || data.revenus <= 0) return 0;
  const ratio = data.resteAVivre / data.revenus;
  if (ratio >= 0.25) return Math.min(100, Math.round(70 + ratio * 100));
  if (ratio >= 0.10) return Math.round(40 + ratio * 200);
  if (ratio > 0) return Math.max(10, Math.round(ratio * 400));
  return 0;
}

// ============================================
// NAVIGATION SECTIONS
// ============================================
function showSection(sectionId) {
  // V√©rifier l'acc√®s
  const plan = getData('plan', 'free');
  const planConfig = PLANS[plan] || PLANS.free;
  
  if (!planConfig.features.includes(sectionId)) {
    // Montrer quand m√™me la section mais avec le blocage
  }
  
  // Cacher toutes les sections
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  
  // Afficher la section demand√©e
  const section = document.getElementById('section-' + sectionId);
  if (section) section.classList.add('active');
  
  // Mettre √† jour le menu
  document.querySelectorAll('.sidebar-link').forEach(link => {
    link.classList.remove('active');
    if (link.dataset.section === sectionId) {
      link.classList.add('active');
    }
  });
}

// ============================================
// MODALS
// ============================================
function openModal(id) {
  document.getElementById(id).classList.add('open');
}

function closeModal(id) {
  document.getElementById(id).classList.remove('open');
}

// Fermer modal en cliquant dehors
document.addEventListener('click', (e) => {
  if (e.target.classList.contains('modal')) {
    e.target.classList.remove('open');
  }
});

// ============================================
// INITIALISATION
// ============================================
function initDashboard() {
  const plan = getData('plan', 'free');
  const lastTest = getData('lastTest', null);
  const tests = getData('tests', []);
  const savingsGoal = getData('savingsGoal', { objectif: 0, epargne: 0 });
  const subscriptions = getData('subscriptions', []);
  const gambling = getData('gambling', 0);
  
  const planConfig = PLANS[plan] || PLANS.free;
  
  // ===== SIDEBAR =====
  document.getElementById('sidebar-plan').textContent = planConfig.name;
  document.getElementById('sidebar-plan').style.color = planConfig.color;
  
  // Mettre √† jour les badges du menu
  updateMenuAccess(plan, planConfig);
  
  // ===== GESTION DES ACC√àS =====
  toggleFeatureAccess('epargne', planConfig.features.includes('epargne'));
  toggleFeatureAccess('fuites', planConfig.features.includes('fuites'));
  toggleFeatureAccess('rappels', planConfig.features.includes('rappels'));
  toggleFeatureAccess('decisions', planConfig.features.includes('decisions'));
  toggleFeatureAccess('imprevu', planConfig.features.includes('imprevu'));
  
  // ===== R√âSUM√â FINANCIER =====
  if (!lastTest) {
    document.getElementById('no-test-message').style.display = 'block';
    document.getElementById('stats-grid').style.opacity = '0.5';
    document.getElementById('test-badge').textContent = '‚Äî';
    document.getElementById('score-value').textContent = '‚Äî';
    document.getElementById('test-title').textContent = 'Aucun test';
    document.getElementById('test-conseil').textContent = 'Faites votre premier test pour voir vos r√©sultats.';
    document.getElementById('test-date').textContent = '';
  } else {
    document.getElementById('no-test-message').style.display = 'none';
    document.getElementById('stats-grid').style.opacity = '1';
    
    // Stats
    document.getElementById('stat-revenus').textContent = formatMoney(lastTest.revenus);
    document.getElementById('stat-dep-ess').textContent = formatMoney(lastTest.depensesEssentielles);
    document.getElementById('stat-dep-non-ess').textContent = formatMoney(lastTest.depensesNonEssentielles);
    document.getElementById('stat-reste').textContent = formatMoney(lastTest.resteAVivre);
    
    // Score
    const score = lastTest.score || calculateScore(lastTest);
    const scoreInfo = getScoreInfo(score);
    
    document.getElementById('test-badge').textContent = scoreInfo.label;
    document.getElementById('test-badge').className = 'badge ' + scoreInfo.class;
    document.getElementById('score-value').textContent = score;
    document.getElementById('test-title').textContent = scoreInfo.title;
    document.getElementById('test-conseil').textContent = lastTest.conseil || scoreInfo.desc;
    document.getElementById('test-date').textContent = 'Dernier test : ' + formatDate(lastTest.date);
    
    // Animation cercle
    const circumference = 2 * Math.PI * 35;
    const offset = circumference - (score / 100) * circumference;
    setTimeout(() => {
      document.getElementById('score-circle').style.strokeDashoffset = offset;
    }, 300);
  }
  
  // ===== HISTORIQUE =====
  renderHistorique(tests);
  
  // ===== √âPARGNE =====
  if (planConfig.features.includes('epargne')) {
    renderEpargne(savingsGoal);
  }
  
  // ===== FUITES =====
  if (planConfig.features.includes('fuites')) {
    renderFuites(subscriptions, gambling);
  }
}

function updateMenuAccess(plan, planConfig) {
  const menuItems = ['epargne', 'fuites', 'rappels', 'decisions', 'imprevu'];
  
  menuItems.forEach(item => {
    const menuEl = document.getElementById('menu-' + item);
    const badgeEl = document.getElementById('badge-' + item);
    
    if (planConfig.features.includes(item)) {
      menuEl.classList.remove('locked');
      badgeEl.style.display = 'none';
    } else {
      // Garder accessible mais montrer le badge
      badgeEl.style.display = '';
    }
  });
}

function toggleFeatureAccess(feature, hasAccess) {
  const content = document.getElementById(feature + '-content');
  const locked = document.getElementById(feature + '-locked');
  
  if (content) content.style.display = hasAccess ? 'block' : 'none';
  if (locked) locked.style.display = hasAccess ? 'none' : 'block';
}

// ============================================
// HISTORIQUE
// ============================================
function renderHistorique(tests) {
  const tbody = document.getElementById('historique-table');
  const countEl = document.getElementById('historique-count');
  
  countEl.textContent = tests.length + ' test' + (tests.length > 1 ? 's' : '');
  
  if (tests.length === 0) {
    tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: var(--space-xl); color: var(--text-muted);">Aucun test enregistr√©.<br><a href="test.html">Faire mon premier test</a></td></tr>';
    return;
  }
  
  tbody.innerHTML = tests.slice().reverse().map((t, i) => {
    const score = t.score || calculateScore(t);
    const scoreInfo = getScoreInfo(score);
    const totalDep = (t.depensesEssentielles || 0) + (t.depensesNonEssentielles || 0);
    const realIndex = tests.length - 1 - i;
    
    return `
      <tr style="border-bottom: 1px solid var(--border-light);">
        <td style="padding: var(--space-sm);">${formatDate(t.date)}</td>
        <td style="padding: var(--space-sm); text-align: right;">${formatMoney(t.revenus)}</td>
        <td style="padding: var(--space-sm); text-align: right;">${formatMoney(totalDep)}</td>
        <td style="padding: var(--space-sm); text-align: right; font-weight: 600; color: ${t.resteAVivre >= 0 ? 'var(--accent)' : '#dc2626'};">${formatMoney(t.resteAVivre)}</td>
        <td style="padding: var(--space-sm); text-align: center;"><span class="badge ${scoreInfo.class}">${score}</span></td>
        <td style="padding: var(--space-sm); text-align: center;">
          <button onclick="deleteTest(${realIndex})" style="background: none; border: none; color: #dc2626; cursor: pointer; font-size: 16px;">üóëÔ∏è</button>
        </td>
      </tr>
    `;
  }).join('');
}

function deleteTest(index) {
  if (!confirm('Supprimer ce test ?')) return;
  
  const tests = getData('tests', []);
  tests.splice(index, 1);
  setData('tests', tests);
  
  if (tests.length > 0) {
    setData('lastTest', tests[tests.length - 1]);
  } else {
    localStorage.removeItem('lastTest');
  }
  
  initDashboard();
}

// ============================================
// √âPARGNE
// ============================================
function renderEpargne(goal) {
  if (!goal || goal.objectif <= 0) {
    document.getElementById('objectif-montant').textContent = '0 ‚Ç¨';
    document.getElementById('epargne-actuelle').textContent = '0 ‚Ç¨';
    document.getElementById('epargne-restante').textContent = '0 ‚Ç¨';
    document.getElementById('epargne-mensuelle').textContent = '0 ‚Ç¨';
    document.getElementById('progress-percent').textContent = '0%';
    document.getElementById('progress-fill').style.width = '0%';
    return;
  }
  
  const percent = Math.min(100, Math.round((goal.epargne / goal.objectif) * 100));
  const restant = Math.max(0, goal.objectif - goal.epargne);
  const mensuel = restant > 0 ? Math.ceil(restant / 12) : 0;
  
  document.getElementById('objectif-montant').textContent = formatMoney(goal.objectif);
  document.getElementById('epargne-actuelle').textContent = formatMoney(goal.epargne);
  document.getElementById('epargne-restante').textContent = formatMoney(restant);
  document.getElementById('epargne-mensuelle').textContent = formatMoney(mensuel);
  document.getElementById('progress-percent').textContent = percent + '%';
  
  setTimeout(() => {
    document.getElementById('progress-fill').style.width = percent + '%';
  }, 300);
  
  // Badge
  if (percent >= 100) {
    document.getElementById('epargne-badge').textContent = 'üéâ Objectif atteint !';
    document.getElementById('epargne-badge').className = 'badge success';
  } else if (percent >= 50) {
    document.getElementById('epargne-badge').textContent = 'Bonne progression';
    document.getElementById('epargne-badge').className = 'badge success';
  } else {
    document.getElementById('epargne-badge').textContent = 'En cours';
    document.getElementById('epargne-badge').className = 'badge warning';
  }
}

function saveVersement() {
  const montant = parseFloat(document.getElementById('versement-montant').value) || 0;
  if (montant <= 0) return alert('Entrez un montant valide');
  
  const goal = getData('savingsGoal', { objectif: 0, epargne: 0 });
  goal.epargne = (goal.epargne || 0) + montant;
  setData('savingsGoal', goal);
  
  document.getElementById('versement-montant').value = '';
  closeModal('modal-versement');
  initDashboard();
}

function saveObjectif() {
  const objectif = parseFloat(document.getElementById('objectif-input').value) || 0;
  const epargne = parseFloat(document.getElementById('epargne-input').value) || 0;
  
  setData('savingsGoal', { objectif, epargne });
  closeModal('modal-objectif');
  initDashboard();
}

// ============================================
// FUITES
// ============================================
function renderFuites(subs, gambling) {
  const list = document.getElementById('subscriptions-list');
  
  if (!subs || subs.length === 0) {
    list.innerHTML = '<li style="color: var(--text-muted);">Aucun abonnement enregistr√©</li>';
  } else {
    list.innerHTML = subs.map((s, i) => `
      <li style="display: flex; justify-content: space-between; align-items: center;">
        <span>${s.nom}</span>
        <span style="display: flex; align-items: center; gap: 8px;">
          <strong>${formatMoney(s.montant)}</strong>
          <button onclick="deleteAbonnement(${i})" style="background: none; border: none; color: #dc2626; cursor: pointer;">‚úï</button>
        </span>
      </li>
    `).join('');
  }
  
  document.getElementById('gambling-amount').textContent = formatMoney(gambling);
  
  const totalAbo = (subs || []).reduce((sum, s) => sum + (s.montant || 0), 0);
  document.getElementById('total-fuites').textContent = formatMoney(totalAbo + (gambling || 0));
}

function saveAbonnement() {
  const nom = document.getElementById('abo-nom').value.trim();
  const montant = parseFloat(document.getElementById('abo-montant').value) || 0;
  
  if (!nom) return alert('Entrez un nom');
  if (montant <= 0) return alert('Entrez un montant valide');
  
  const subs = getData('subscriptions', []);
  subs.push({ nom, montant });
  setData('subscriptions', subs);
  
  document.getElementById('abo-nom').value = '';
  document.getElementById('abo-montant').value = '';
  closeModal('modal-abonnement');
  initDashboard();
}

function deleteAbonnement(index) {
  const subs = getData('subscriptions', []);
  subs.splice(index, 1);
  setData('subscriptions', subs);
  initDashboard();
}

function saveJeux() {
  const montant = parseFloat(document.getElementById('jeux-montant').value) || 0;
  setData('gambling', montant);
  closeModal('modal-jeux');
  initDashboard();
}

// ============================================
// RAPPELS
// ============================================
function saveRappel() {
  const active = document.getElementById('rappel-toggle').checked;
  const email = document.getElementById('rappel-email').value.trim();
  setData('rappelConfig', { active, email });
  alert('Configuration enregistr√©e ! (fonctionnalit√© bient√¥t disponible)');
}

// ============================================
// D√âMARRAGE
// ============================================
document.addEventListener('DOMContentLoaded', initDashboard);
</script>

</body>
</html>