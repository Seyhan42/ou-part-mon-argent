<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Test gratuit — Où part mon argent ?</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="header">
  <div class="brand">
    <div class="logo">€</div>
    <div>
      <div class="brand-title">Où part mon argent ?</div>
      <div class="brand-subtitle">Test gratuit</div>
    </div>
  </div>

  <nav class="nav">
    <a class="nav-link" href="index.html">Accueil</a>
    <a class="nav-link active" href="test.html">Test gratuit</a>
    <a class="nav-link" href="tarifs.html">Tarifs</a>
    <a class="nav-link" href="login.html">Connexion</a>
  </nav>
</header>

<main class="container">
  <section class="hero compact">
    <h1>Test gratuit</h1>
    <p class="lead">
      Entrez vos chiffres pour estimer votre <strong>minimum vital</strong> et votre <strong>reste à vivre</strong>.
      <span class="muted">Aucune inscription.</span>
    </p>
  </section>

  <section class="card">
    <form class="form" onsubmit="return false;">
      <div class="field">
        <label for="revenu">Revenu mensuel (net)</label>
        <input id="revenu" type="number" min="0" placeholder="Ex: 1800">
      </div>

      <div class="field">
        <label for="fixes">Dépenses fixes (loyer + factures)</label>
        <input id="fixes" type="number" min="0" placeholder="Ex: 900">
      </div>

      <div class="field">
        <label for="variables">Dépenses variables (courses + essence + sorties…)</label>
        <input id="variables" type="number" min="0" placeholder="Ex: 450">
      </div>

      <div class="cta-row">
        <button class="btn btn-primary" id="btnCalc">Calculer</button>
        <a class="btn btn-ghost" href="login.html">Créer un compte</a>
      </div>
    </form>

    <div class="divider"></div>

    <div id="result" class="result hidden">
      <h2>Résultat</h2>
      <div class="grid-3">
        <div class="card mini">
          <div class="kpi-label">Minimum vital / mois</div>
          <div class="kpi" id="minMois">—</div>
        </div>
        <div class="card mini">
          <div class="kpi-label">Minimum vital / semaine</div>
          <div class="kpi" id="minSem">—</div>
        </div>
        <div class="card mini">
          <div class="kpi-label">Reste à vivre / mois</div>
          <div class="kpi" id="resteMois">—</div>
        </div>
      </div>

      <p class="muted" style="margin-top:12px">
        Pour le détail (fuites, objectifs, imprévus, comparaison), créez un compte.
      </p>

      <div class="cta-row">
        <a class="btn btn-primary" href="login.html">Accéder au dashboard</a>
        <a class="btn btn-ghost" href="tarifs.html">Voir les offres</a>
      </div>
    </div>
  </section>

  <footer class="footer">
    <a href="index.html">Accueil</a> ·
    <a href="tarifs.html">Tarifs</a> ·
    <span class="muted">© <span id="year"></span> Où part mon argent</span>
  </footer>
</main>

<script>
  const fmt = (n) => new Intl.NumberFormat('fr-FR', { style:'currency', currency:'EUR' }).format(n);

  document.getElementById("year").textContent = new Date().getFullYear();

  document.getElementById("btnCalc").addEventListener("click", () => {
    const revenu = Number(document.getElementById("revenu").value || 0);
    const fixes = Number(document.getElementById("fixes").value || 0);
    const variables = Number(document.getElementById("variables").value || 0);

    const minMois = fixes + variables;
    const resteMois = revenu - minMois;
    const minSem = minMois / 4.33;

    document.getElementById("minMois").textContent = fmt(minMois);
    document.getElementById("minSem").textContent = fmt(minSem);
    document.getElementById("resteMois").textContent = fmt(resteMois);

    document.getElementById("result").classList.remove("hidden");
  });
</script>

</body>
</html>
